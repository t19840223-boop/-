# 外壁塗装診断LP - 自動メール送信システム

## 📋 プロジェクト概要

外壁塗装の診断フォーム付きランディングページです。
フォーム送信後、自動で御礼メール＋ガイドブックPDF（7.5MB）を送信します。

---

## 🎯 主な機能

### 1. ランディングページ
- ✅ 購買心理学を活用した構成
- ✅ 実話ベースの失敗事例（4つ）
- ✅ 早期対応 vs 放置の比較
- ✅ 塗料の種類と特徴（4種類）
- ✅ 無料診断フォーム
- ✅ レスポンシブデザイン

### 2. 自動メール送信
- ✅ 診断御礼メール（HTML形式）
- ✅ ガイドブックPDF自動添付（7.5MB）
- ✅ 診断データをスプレッドシートに自動保存
- ✅ 管理者への通知メール

### 3. ガイドブック
- 📖 **タイトル**: 戸建の屋根・外壁塗装ガイドブック（2026年度・保存版）
- 📄 **内容**: 全12ポイント
  - 外壁塗装の相場と見積書の読み方
  - 塗装時期の見極め方
  - 塗料の種類と特徴比較
  - 悪徳業者の見分け方
  - 施工品質チェックポイント
  - 助成金・保証・工事の流れ など

---

## 📁 ファイル構成

```
/home/user/webapp/
├── index.html                   # メインLP
├── guidebook.pdf                # ガイドブックPDF（7.5MB）
├── google-apps-script.js        # 自動メール送信スクリプト
├── SETUP_GUIDE.md               # 詳細設定手順書
├── README.md                    # このファイル
├── remove_line.py               # LINE機能削除スクリプト（作業用）
├── index.html.backup            # バックアップ
└── temp_replace.txt             # 作業用メモ
```

---

## 🚀 セットアップ

### クイックスタート

1. **ガイドブックをGoogle Driveにアップロード**
   ```
   guidebook.pdf をGoogle Driveにアップロード
   → 共有設定を「リンクを知っている全員」に変更
   → ファイルIDを取得
   ```

2. **Googleスプレッドシート作成**
   ```
   新規スプレッドシート作成
   → 「外壁塗装診断_受付データ」という名前で保存
   → スプレッドシートIDを取得
   ```

3. **Google Apps Script設定**
   ```
   スプレッドシート → 拡張機能 → Apps Script
   → google-apps-script.js の内容をコピペ
   → PDF_FILE_ID、SPREADSHEET_ID、ADMIN_EMAILを設定
   → デプロイ → ウェブアプリとして公開
   → ウェブアプリのURLを取得
   ```

4. **index.html更新**
   ```
   scriptUrl = 'YOUR_GOOGLE_APPS_SCRIPT_URL_HERE';
   → 実際のウェブアプリURLに変更
   ```

5. **テスト**
   ```
   index.htmlを開く
   → フォームにテストデータ入力
   → 送信ボタンクリック
   → メールが届くか確認
   ```

📘 **詳しい手順は `SETUP_GUIDE.md` を参照してください**

---

## 🎨 デザインの特徴

### カラーパレット
- **メイン**: 赤（#ff0000 〜 #cc0000）- 緊急性・行動喚起
- **アクセント**: 黄色（#ffff00）- 危険・注意
- **背景**: グレー・白のグラデーション

### CTAボタン（5箇所配置）
1. ヒーローセクション直後
2. 失敗事例セクション後
3. 早期対応vs放置セクション後
4. 塗料セクション前
5. 当社の強みセクション前

全てのCTAボタンに **「＋ガイドブックをもらう」** を追加

---

## 💌 メールの内容

### 件名
```
【外壁塗装の真実】診断依頼ありがとうございます＋ガイドブックプレゼント🎁
```

### 主な要素
- 🎁 ガイドブックプレゼントの告知
- 📖 ガイドブック内容の紹介（12ポイント）
- ⚡ 次のステップ（24時間以内に診断結果送信）
- 📝 ご依頼内容の確認（テーブル形式）
- 💡 安心ポイント（4つ）
- 📎 PDF添付（guidebook.pdf / 7.5MB）

### メール形式
- **HTML版**: カラフルで視覚的に魅力的
- **テキスト版**: メールクライアント対応

---

## 📊 データ管理

### スプレッドシート列構成
| 列 | 項目 | 説明 |
|----|------|------|
| A | 受付日時 | 自動入力 |
| B | お名前 | フォーム入力 |
| C | 地域 | フォーム入力 |
| D | 築年数 | フォーム入力 |
| E | 電話番号 | フォーム入力 |
| F | メールアドレス | フォーム入力 |
| G | ステータス | 初期値「未対応」 |

### 運用フロー
```
1. お客様フォーム送信
    ↓
2. 自動処理
   ├─ スプレッドシート保存
   ├─ 御礼メール送信
   └─ 管理者通知
    ↓
3. 管理者確認（24時間以内）
    ↓
4. 診断結果を返信
    ↓
5. ステータスを「対応済み」に変更
```

---

## 🔧 カスタマイズ

### 会社情報の変更

`google-apps-script.js` の以下を編集：

```javascript
const COMPANY_NAME = '外壁塗装の真実';
const COMPANY_URL = 'https://your-domain.com';
const ADMIN_EMAIL = 'admin@example.com';
```

### メール文面の変更

`google-apps-script.js` の `sendThankYouEmail()` 関数内：
- `htmlBody`: HTML版メール本文
- `textBody`: テキスト版メール本文

### LPデザインの変更

`index.html` の以下を編集：
- CSSスタイル（`<style>` タグ内）
- CTAボタンのテキスト
- 各セクションの文言

---

## 🐛 トラブルシューティング

### メールが届かない
1. PDF_FILE_IDが正しく設定されているか確認
2. PDFの共有設定を確認
3. Gmailのスパムフォルダを確認
4. Apps Scriptの実行ログを確認

### フォーム送信エラー
1. scriptUrlが正しく設定されているか確認
2. ブラウザコンソール（F12）でエラー確認
3. Apps Scriptの実行ログを確認

### データが保存されない
1. SPREADSHEET_IDが正しく設定されているか確認
2. Apps Scriptの権限が承認されているか確認
3. スプレッドシートの共有設定を確認

📘 **詳しくは `SETUP_GUIDE.md` のトラブルシューティングを参照**

---

## 📈 次のステップ

### 推奨改善項目

1. **画像追加**
   - ビフォーアフター写真
   - 施工中の様子
   - チョーキング・クラック・コケの実例

2. **A/Bテスト**
   - CTAボタンの文言
   - ヘッダーのキャッチコピー
   - メールの件名

3. **分析ツール導入**
   - Google Analytics
   - ヒートマップ（Hotjar等）
   - フォーム離脱率の計測

4. **SEO対策**
   - メタタグの最適化
   - 構造化データの追加
   - ページ速度の改善

---

## 📝 変更履歴

### 2026-01-18
- ✅ LINE機能を全削除
- ✅ フォーム診断のみに変更
- ✅ 自動メール送信機能を実装
- ✅ 全CTAボタンに「＋ガイドブックをもらう」を追加
- ✅ Google Apps Scriptコード作成
- ✅ 詳細設定手順書（SETUP_GUIDE.md）作成

### 以前の主な変更
- 金額表示を全削除
- 失敗事例カードのデザイン改善
- 診断フォームに「お名前」フィールド追加
- 「築50年」の表現を削除
- ガイドブック内容の詳細化（12項目）

---

## 📞 サポート

質問や問題が発生した場合：
1. `SETUP_GUIDE.md` のトラブルシューティングを確認
2. Google Apps Scriptの実行ログを確認
3. ブラウザのコンソールでエラーを確認

---

## 📄 ライセンス

このプロジェクトは商用利用可能です。

---

## 🎉 完成！

お疲れ様でした！素晴らしい診断フォームシステムの完成です！

**次は実際にデプロイして、お客様からの反応を楽しみにしてください！** 📊✨
